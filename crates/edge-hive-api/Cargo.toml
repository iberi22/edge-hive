[package]
name = "edge-hive-api"
version.workspace = true
edition.workspace = true
license.workspace = true
description = "Unified API Gateway for Edge Hive"

[dependencies]
# HTTP Server
axum = { workspace = true, features = ["ws"] }
tower = "0.5"
tower-http = { version = "0.6", features = ["cors", "trace", "fs"] }
tokio = { workspace = true, features = ["full"] }

# Serialization
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true }

# Error handling
anyhow = { workspace = true }
thiserror = { workspace = true }

# Logging
tracing = { workspace = true }

# Internal dependencies
edge-hive-cache = { path = "../edge-hive-cache" }
edge-hive-db = { path = "../edge-hive-db" }
edge-hive-auth = { path = "../edge-hive-auth" }
edge-hive-realtime = { path = "../edge-hive-realtime" }
edge-hive-wasm = { path = "../edge-hive-wasm" }

[dev-dependencies]
tempfile = "3.10"
tokio-test = "0.4"
http = "1.1"
tower = { version = "0.5", features = ["util"] }
wat = "1.0"
